
# INTEREST POINT DETECTION
# -----------------------------------

strategy: 'python'
dsxy: 2
dsz: 2
min_intensity: 0
max_intensity: 255
sigma: 1.8
threshold: 0.001
offset: 0
combine_distance: .5
mem_per_worker_bytes: 0
file_type: 'tiff'
file_source_detection: 'local'
xml_bucket_name_detection: None
image_bucket_name: None
output_bucket_name: None
detection_run_type: dask
# xml_file_path_detection: '/home/martin/Documents/allen/clean-bss-mvr/IP_TIFF_XML_2/dataset.xml'
# image_file_path:  '/home/martin/Documents/allen/clean-bss-mvr/IP_TIFF_XML_2/'
# output_file_path: '/home/martin/Documents/allen/clean-bss-mvr/IP_TIFF_XML_2/output'
xml_file_path_detection: '/Users/seanfite/Desktop/IP_TIFF_XML/dataset.xml'
image_file_path:  '/Users/seanfite/Desktop/IP_TIFF_XML/' 
output_file_path: '/Users/seanfite/Desktop/IP_TIFF_XML/'


# INTEREST POINT MATCHING
# -----------------------------------

xml_file_path_matching: "/Users/seanfite/Desktop/IP_TIFF_XML/dataset-detection.xml"
n5_matching_output_path: '/Users/seanfite/Desktop/IP_TIFF_XML'
input_type: "tiff"

# match_type: "rigid"               
# # -- Candidates --
# num_neighbors: 3
# redundancy: 0
# significance: 3                    # ratio of distance
# search_radius: 300
# num_required_neighbors: 3
# # -- Ransac --
# model_min_matches: 18              # min number inlier factor = 6
# inlier_factor: 5.0                 # max epsilon
# lambda_value: 0.1                  # min inlier ratio
# num_iterations: 10000
# regularization_weight: 1.0

match_type: "affine"                   
# -- Candidates --
num_neighbors: 3
redundancy: 0
significance: 3                  # ratio of distance
search_radius: 100
num_required_neighbors: 3
# -- Ransac --
model_min_matches: 28            # min number inlier factor = 5
inlier_factor: 5.0               # max epsilon
lambda_value: 0.05               # min inlier ratio
num_iterations: 10000
regularization_weight: 1.0

# SOLVER
# -----------------------------------

fixed_views: [ 'timepoint: 18, setup: 0', 'timepoint: 30, setup: 0']
relative_threshold: 3.5
absolute_threshold: 7.0
min_matches: 3
damp: 1.0
max_iterations: 100000
max_allowed_error: .inf
max_plateauwidth: 200
file_source_solver: 'local'
xml_bucket_name_solver: None
xml_file_path_solver: '/Users/seanfite/Desktop/IP_TIFF_XML/dataset-detection.xml'
data_prefix: '/Users/seanfite/Desktop/IP_TIFF_XML/interestpoints.n5'
xml_file_path_output: '/Users/seanfite/Desktop/IP_TIFF_XML/rhapso_solver.xml' 
metrics_output_path: "metrics/metrics.json"
run_type_solver: "affine"